(()=>{"use strict";const t=async function(t){try{const e=await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=ekXLfmy8SXYal69CoD65HEjmmOZDu7Fh&s=${t}`,{mode:"cors"}),n=await e.json();if(200===n.meta.status)return n.data.images.original.url;console.log(n.meta.msg)}catch(t){console.log(t)}};!function(){const e=document.querySelector("img"),n=document.getElementById("city"),o=document.getElementById("weather"),a=document.getElementById("temp"),i=document.getElementById("pressure"),c=document.getElementById("humidity"),r=document.getElementById("wind"),s=document.getElementById("location"),m=document.getElementById("search"),d=document.getElementById("convert");let u="",y="C";async function l(s){if(u=await async function(t){try{const e=await async function(t="London"){const e=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&APPID=31cc72b5a0cd8e85f3b76bb2c36522ed`,{mode:"cors"});return await e.json()}(t);if(200===e.cod){const t=function(t){return{city:t.name,country:t.sys.country,main:t.weather[0].main,weather:t.weather[0].description,tempC:Math.round(t.main.temp-273.15),tempF:Math.round(1.8*(t.main.temp-273.15)+32),pressure:t.main.pressure,humidity:t.main.humidity,wind:Math.round(3600*t.wind.speed/1e3)}}(e);return t}return e.message}catch(t){console.log(t)}}(s),!u.city)return n.textContent=u.charAt(0).toUpperCase()+u.slice(1),d.style.display="none",o.textContent="",a.textContent="",i.textContent="",c.textContent="",r.textContent="",void(e.src=await t("shrug"));d.style.display="inherit",n.textContent=`${u.city}, ${u.country}`,o.textContent=u.weather.charAt(0).toUpperCase()+u.weather.slice(1),a.textContent="C"===y?`${u.tempC}째C`:`${u.tempF}째F`,i.textContent=`Pressure: ${u.pressure} hPa`,c.textContent=`Humidity: ${u.humidity}%`,r.textContent=`Wind: ${u.wind} km/h`,e.src=await t(u.main)}d.addEventListener("click",(function(){y="C"===y?"F":"C",a.textContent="C"===y?`${u.tempC}째C`:`${u.tempF}째F`})),m.addEventListener("click",(t=>{t.preventDefault(),l(s.value)})),l()}()})();